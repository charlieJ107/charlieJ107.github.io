---
title: MSP432学习笔记-GPIO基本输入输出
date: 2020-12-20
category: 学了就忘
tags:
  - c
  - MSP432
description: 让GPIO基本输入输出的主要包含两个部分， 这个跟Arduino的思路是一样的。
---

让GPIO基本输入输出的主要包含两个部分， 这个跟Arduino的思路是一样的。首先你需要在Initial阶段确定你要用哪个端口，每个端口是用来干什么的，是输入还是输出。

​    然后你就要软件当中做两种可能你想做的事情：

- 如果你想用GPIO输出，你就给整个GPIO口的输出状态赋值
- 如果你要用GPIO读取输入，你就要去读取整个GPIO输入的地方是多少

<!--more-->

### 重要：寄存器的赋值语句

该位赋值为1：

```
p1->OUT |= BIT0;
```

该为赋值为0：

```
P1->OUT &= ~(BIT0);
```

该位反转：

```
P1->OUT ^= BIT0;
```

### 初始化寄存器配置

首先你看看MSP432到底是怎么搞这GPIO的配置

#### 输出

```

P1->DIR |= BIT0; //方向设置为输出方向
P1->OUT |= BIT0; //设置为高电平
```

当`DIR`设置为输出时，OUT决定输出高（1）低（0）电平；当`DIR`设置为输入时，OUT决定是上拉还是下拉。

#### 输入

```

P1->DIR &= ~BIT1；
P1->OUT = BIT1;
```

### 读取输入

GPIO口有一个只读的寄存器`PxIN`, 整个位可以直接读出整个地方是高电平（1）还是低电平（0）。

### 其他你可能用到的寄存器

#### `PxREN`

配置上下拉电阻

#### `PxSEL`

功能选择寄存器

| PxSEL1 | PxSEL0 | I/O 功能     |
| ------ | ------ | ------------ |
| 0      | 0      | 普通IO       |
| 0      | 1      | 主模块功能   |
| 1      | 0      | 次模块功能   |
| 1      | 1      | 第三模块功能 |
